# 3.1 반올림

## 문제

부동 소수점 값을 1-진수로 반올림하고 싶다

## 해결

간단한 반올림은 내장 함수인 round(value, ndigits) 함수를 사용한다.

```
In [1]: round(1.23, 1)
Out[1]: 1.2

In [2]: round(1.29, 1)
Out[2]: 1.3

In [3]: round(-2.48, 1)
Out[3]: -2.5

In [4]: round(1.253613, 3)
Out[4]: 1.254
```

값이 정확히 두 선택지의 가운데 있으면 더 가까운 작수가 된다. 예를 들어 1.5와 2.5는 모두 2가 된다.

round()에 전달하는 자릿수는 음수가 될 수 있다. 이 경우에는 10의 자리, 100의 자리 등의 순으로 자릿수가 결정된다

```
In [5]: a = 1829943

In [6]: round(a, -1)
Out[6]: 1829940

In [7]: round(a, -2)
Out[7]: 1829900

In [8]: round(a, -3)
Out[8]: 1830000
```

## 토론

반올림과 서식화를 햇갈리지 않도록 주의하자. 특정 자릿수까지 숫자를 표현하는 것이 목적이라면 round()를 사용하는 것이 아니라 서식화를 위한 자릿수를 명시하기만 하면 된다.

```
In [9]: x = 1.23456

In [10]: format(x, '0.2f')
Out[10]: '1.23'

In [11]: format(x, '0.3f')
Out[11]: '1.235'

In [12]: 'value is {:0.3f}'.format(x)
Out[12]: 'value is 1.235'
```

또한 정확도 문제를 "수정하려고" 부동 소수점을 반올림하는 방법도 지양해야 한다. 예를 들어 다음과 같은 코드를 사용하고 싶을지 모른다.

```
In [13]: a = 2.1

In [14]: b = 4.2

In [15]: c = a + b

In [16]: c
Out[16]: 6.300000000000001

In [17]: c = round(c, 2)

In [18]: c
Out[18]: 6.3
```

이 정도 오류는 용인하지만, 이런 오류를 절대적으로 피해야한다면 decimal 모듈을 사용하는 것이 좋다.